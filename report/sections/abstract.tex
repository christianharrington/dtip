%!TEX root = ../main.tex
In this report we will describe the design and implementation of a simple programming language in the dependently typed programming language Idris. This is meant to serve as an exercise in using dependent types in practice. Our programming language will be extended with several features, such as general recursion. We will define a well-typed representation of this language, using dependent types to ensure that all terms are \emph{correct by construction}. Bidirectional typing will let us translate well-typed terms in a ``raw'' representation to terms in the well-typed representation. Finally we will produce a compiler generating a ``well-stacked'' program from a subset of the well-typed representation, which can be run without fear of stack underflow.

The report contains descriptions of, and solutions to, many of the problems encountered during the design and implementation of these features and components. In particular, the problems of how to model general recursion, and how to represent well-stacked programs are explored.
