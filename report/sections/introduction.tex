%!TEX root = ../main.tex
\section{Introduction}
\label{sec:introduction}
% - Begrundelse
% - Problemets karakter: Løst tidligere
%   - Tilgang er anderledes
% - Udfordring: Dependendt types
% - Vores forudsætninger
% - Opbygning
%   - Raw STLC i Idris
%   - Well-typed expression language
%   - Type Checking
%   - Stack machine

This paper describes the design and implementation of a well-typed expression language, using dependent types. This expression language, based on the simply typed lambda calculus, is not interesting in and of itself. Expressions languages like this have been implemented thousands of times in as many programming languages. Instead, we will focus on how dependent types can be used to make guarantees and improve the safety of such an expression language.

The expression language will be written in Idris\,\cite{Idris}, a dependently typed general purpose programming language developed primarily by Edwin Brady of the University of St Andrews. Programming with dependent types is not yet widespread, so this paper has been written so readers with no previous knowledge of dependent types should be able to understand it. Besides general programming experience, the only prerequisite for understanding this paper is proficiency with a functional programming language. Haskell is a good choice, since the syntax of Idris is very similar. All code examples in this paper are written in Idris.

\subsection{Structure}
In Section~\ref{sec:background}, we start by giving a quick overview of the simply typed lambda calculus. This is followed by an introduction to dependent types. Then, in Section~\ref{sec:the-simply-typed-lambda-calculus}, a naive implementation of our expression language is presented. This will serve as the base for our well-typed expression language in Section~\ref{sec:a-well-typed-expression-language}. In Section~\ref{sec:type-checking}, a type-checking system is introduced, which lets us transform expressions from the not well-typed to the well-typed expression language. As the final link in the chain, a compiler and stack machine are described in Section~\ref{sec:stack-machine}. This lets us compile our well-typed expression language to a ``well-stacked'' program. In Section\~\ref{sec:partiality}, the consequences of introducing general recursion into the expression language is discussed. Section\~\ref{sec:related-work} lists related work, and Section\~\ref{sec:conclusion} offers concluding thoughts.